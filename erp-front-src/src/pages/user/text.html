<html>
<head>
  <title>mayouchen</title>
</head>
<script src="https://cdn.bootcss.com/axios/0.16.2/axios.min.js"></script>
<script type="text/javascript">

  function uploadpic(e){
    var self = this
    console.log(e.target);
    let file = e.target.files[0]
    /* eslint-disable no-undef */
    let param = new FormData()  // 创建form对象
    param.append('file', file, file.name)  // 通过append向form对象添加数据
    param.append('chunk', '0') // 添加form表单中其他数据
    console.log("222222");
    console.log(param.get('file')) // FormData私有类对象，访问不到，可以通过get判断值是否传进去

    let config = {
      headers: {'Content-Type': 'multipart/form-data'}
    }
    // 添加请求头
    axios.post('http://xingchen.mengdian.com/rest/user/headurl', param, config)
      .then(response => {
        console.log("222222");
        if (response.data.code === 0) {
          console.log(response.data.data);
        }
        console.log(response.data)
      })
  }
</script>
<body>
<div class='form-div'>
  <div class="up-pic">
    <input  name="file" type="file" accept="image/png,image/gif,image/jpeg" onclick="uploadpic(event)"/>
  </div>
</div>
</body>
</html>
